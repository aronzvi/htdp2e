<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0046)https://course.ccs.neu.edu/cs2500f17/lab5.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=0.8"><title>Lab  5 Abstraction in functions and data</title><link rel="stylesheet" type="text/css" href="./Lab 5 Abstraction in functions and data_files/scribble.css" title="default"><link rel="stylesheet" type="text/css" href="./Lab 5 Abstraction in functions and data_files/extra-styles.css" title="default"><link rel="stylesheet" type="text/css" href="./Lab 5 Abstraction in functions and data_files/racket.css" title="default"><link rel="stylesheet" type="text/css" href="./Lab 5 Abstraction in functions and data_files/manual-style.css" title="default"><link rel="stylesheet" type="text/css" href="./Lab 5 Abstraction in functions and data_files/manual-racket.css" title="default"><script type="text/javascript" src="./Lab 5 Abstraction in functions and data_files/scribble-common.js"></script><script type="text/javascript" src="./Lab 5 Abstraction in functions and data_files/extra-scripts.js"></script><script type="text/javascript" src="./Lab 5 Abstraction in functions and data_files/manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">►</a></td><td></td><td><a href="https://course.ccs.neu.edu/cs2500f17/index.html" class="tocviewlink" data-pltdoc="x">Fundamentals I</a></td></tr></tbody></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tbody><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/general.html" class="tocviewlink" data-pltdoc="x">General Information</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/advice.html" class="tocviewlink" data-pltdoc="x">Advice</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/texts.html" class="tocviewlink" data-pltdoc="x">Texts</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/ofc_hrs.html" class="tocviewlink" data-pltdoc="x">Office Hours/<span class="mywbr"> &nbsp;</span>Contact</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/labs.html" class="tocviewselflink" data-pltdoc="x">Labs</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/Problem_Sets.html" class="tocviewlink" data-pltdoc="x">Problem Sets</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/Exams.html" class="tocviewlink" data-pltdoc="x">Old Exams</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/style.html" class="tocviewlink" data-pltdoc="x">The Style</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/articles.html" class="tocviewlink" data-pltdoc="x">Interesting Articles</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/peer-review.html" class="tocviewlink" data-pltdoc="x">Peer Review</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/contract.html" class="tocviewlink" data-pltdoc="x">Course Contract</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/design_recipe.html" class="tocviewlink" data-pltdoc="x">The Design Recipe</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lecture-notes.html" class="tocviewlink" data-pltdoc="x">Lecture notes from the end-<wbr>of-<wbr>semester</a></td></tr></tbody></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">▼</a></td><td></td><td><a href="https://course.ccs.neu.edu/cs2500f17/labs.html" class="tocviewlink" data-pltdoc="x">Labs</a></td></tr></tbody></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tbody><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab1.html" class="tocviewlink" data-pltdoc="x">Lab  1 The Basics</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab2.html" class="tocviewlink" data-pltdoc="x">Lab  2 Structural Integrity</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab3.html" class="tocviewlink" data-pltdoc="x">Lab  3 Lists</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab4.html" class="tocviewlink" data-pltdoc="x">Lab  4 Recursion, With A Twist</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html" class="tocviewselflink" data-pltdoc="x">Lab  5 Abstraction in functions and data</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab6.html" class="tocviewlink" data-pltdoc="x">Lab  6 Creating Abstractions</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab7.html" class="tocviewlink" data-pltdoc="x">Lab  7 Working with <span class="RktSym"><span class="RktStxLink">local</span></span></a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab8.html" class="tocviewlink" data-pltdoc="x">Lab  8 JSON</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab9.html" class="tocviewlink" data-pltdoc="x">Lab  9 Files and Directories</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab10.html" class="tocviewlink" data-pltdoc="x">Lab  10 Processing Two Complex Inputs</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab11.html" class="tocviewlink" data-pltdoc="x">Lab  11 Generative and Accumulator Recursion</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab12.html" class="tocviewlink" data-pltdoc="x">Lab  12 Lambda</a></td></tr></tbody></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">►</a></td><td></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html" class="tocviewselflink" data-pltdoc="x">Lab  5 Abstraction in functions and data</a></td></tr></tbody></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tbody><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6973%29" class="tocviewlink" data-pltdoc="x">Abstracting constants into parameters</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6974%29" class="tocviewlink" data-pltdoc="x">Abstracting Code into Data</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6975%29" class="tocviewlink" data-pltdoc="x">Before You Go...</a></td></tr></tbody></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tbody><tr><td><span class="tocsublinknumber"></span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6973%29" class="tocsubseclink" data-pltdoc="x">Abstracting constants into parameters</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6974%29" class="tocsubseclink" data-pltdoc="x">Abstracting Code into Data</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6975%29" class="tocsubseclink" data-pltdoc="x">Before You Go...</a></td></tr></tbody></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">6.10</span></div><div class="navsettop"><div class="topbar navleft hidden"><a href="javascript:void(0);">Table of Contents</a><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;topbar_tocview_0&quot;);">►</a></td><td></td><td><a href="https://course.ccs.neu.edu/cs2500f17/index.html" class="tocviewlink" data-pltdoc="x">Fundamentals I</a></td></tr></tbody></table></div><div class="tocviewsublisttop" style="display: none;" id="topbar_tocview_0"><table cellspacing="0" cellpadding="0"><tbody><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/general.html" class="tocviewlink" data-pltdoc="x">General Information</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/advice.html" class="tocviewlink" data-pltdoc="x">Advice</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/texts.html" class="tocviewlink" data-pltdoc="x">Texts</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/ofc_hrs.html" class="tocviewlink" data-pltdoc="x">Office Hours/<span class="mywbr"> &nbsp;</span>Contact</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/labs.html" class="tocviewselflink" data-pltdoc="x">Labs</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/Problem_Sets.html" class="tocviewlink" data-pltdoc="x">Problem Sets</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/Exams.html" class="tocviewlink" data-pltdoc="x">Old Exams</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/style.html" class="tocviewlink" data-pltdoc="x">The Style</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/articles.html" class="tocviewlink" data-pltdoc="x">Interesting Articles</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/peer-review.html" class="tocviewlink" data-pltdoc="x">Peer Review</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/contract.html" class="tocviewlink" data-pltdoc="x">Course Contract</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/design_recipe.html" class="tocviewlink" data-pltdoc="x">The Design Recipe</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lecture-notes.html" class="tocviewlink" data-pltdoc="x">Lecture notes from the end-<wbr>of-<wbr>semester</a></td></tr></tbody></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;topbar_tocview_1&quot;);">▼</a></td><td></td><td><a href="https://course.ccs.neu.edu/cs2500f17/labs.html" class="tocviewlink" data-pltdoc="x">Labs</a></td></tr></tbody></table><div class="tocviewsublist" style="display: block;" id="topbar_tocview_1"><table cellspacing="0" cellpadding="0"><tbody><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab1.html" class="tocviewlink" data-pltdoc="x">Lab  1 The Basics</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab2.html" class="tocviewlink" data-pltdoc="x">Lab  2 Structural Integrity</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab3.html" class="tocviewlink" data-pltdoc="x">Lab  3 Lists</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab4.html" class="tocviewlink" data-pltdoc="x">Lab  4 Recursion, With A Twist</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html" class="tocviewselflink" data-pltdoc="x">Lab  5 Abstraction in functions and data</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab6.html" class="tocviewlink" data-pltdoc="x">Lab  6 Creating Abstractions</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab7.html" class="tocviewlink" data-pltdoc="x">Lab  7 Working with <span class="RktSym"><span class="RktStxLink">local</span></span></a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab8.html" class="tocviewlink" data-pltdoc="x">Lab  8 JSON</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab9.html" class="tocviewlink" data-pltdoc="x">Lab  9 Files and Directories</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab10.html" class="tocviewlink" data-pltdoc="x">Lab  10 Processing Two Complex Inputs</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab11.html" class="tocviewlink" data-pltdoc="x">Lab  11 Generative and Accumulator Recursion</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab12.html" class="tocviewlink" data-pltdoc="x">Lab  12 Lambda</a></td></tr></tbody></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;topbar_tocview_2&quot;);">►</a></td><td></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html" class="tocviewselflink" data-pltdoc="x">Lab  5 Abstraction in functions and data</a></td></tr></tbody></table><div class="tocviewsublistbottom" style="display: none;" id="topbar_tocview_2"><table cellspacing="0" cellpadding="0"><tbody><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6973%29" class="tocviewlink" data-pltdoc="x">Abstracting constants into parameters</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6974%29" class="tocviewlink" data-pltdoc="x">Abstracting Code into Data</a></td></tr><tr><td align="right"></td><td><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6975%29" class="tocviewlink" data-pltdoc="x">Before You Go...</a></td></tr></tbody></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tbody><tr><td><span class="tocsublinknumber"></span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6973%29" class="tocsubseclink" data-pltdoc="x">Abstracting constants into parameters</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6974%29" class="tocsubseclink" data-pltdoc="x">Abstracting Code into Data</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28part._g6975%29" class="tocsubseclink" data-pltdoc="x">Before You Go...</a></td></tr></tbody></table></div></div></div><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="https://course.ccs.neu.edu/cs2500f17/lab4.html" title="backward to &quot;Lab  4 Recursion, With A Twist&quot;" data-pltdoc="x">← prev</a>&nbsp;&nbsp;<a href="https://course.ccs.neu.edu/cs2500f17/labs.html" title="up to &quot;Labs&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="https://course.ccs.neu.edu/cs2500f17/lab6.html" title="forward to &quot;Lab  6 Creating Abstractions&quot;" data-pltdoc="x">next →</a></span>&nbsp;</div><h3><a name="(part._lab5)"></a>Lab  5 Abstraction in functions and data</h3><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><img src="./Lab 5 Abstraction in functions and data_files/lab.png" alt="home work!" width="128" height="105"></p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Purpose:</span> The purpose of this lab is to get some more practice recognizing
similarities in function definitions and in data definitions and how to avoid
them.</p><h3><a name="(part._g6973)"></a>Abstracting constants into parameters</h3><p>When we solve problems, we sometimes find that the solution to one problem looks
a lot like the solution to another one. Check out the following functions and
data definition. From now on we will leave out the definition for lists,
and use the <a name="(tech._~5blist._of._x~5d)"></a><span style="font-style: italic">[List-of X]</span> notation.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A </span><a name="(tech._~5blist._of._number~5d)"></a><span style="font-style: italic">[List-of Number]</span><span class="RktCmt"> is one of</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> – empty</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> – (cons Number </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._number~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of Number]</span></a><span class="RktCmt">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">lon-add2 : </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._number~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of Number]</span></a><span class="RktCmt"> -&gt; </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._number~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of Number]</span></a></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Add two (2) to each element of the given list of numbers</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lon-add2</span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._empty~3f%29%29" class="RktValLink" data-pltdoc="x">empty?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cons~3f%29%29" class="RktValLink" data-pltdoc="x">cons?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._first%29%29" class="RktValLink" data-pltdoc="x">first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lon-add2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._rest%29%29" class="RktValLink" data-pltdoc="x">rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">lon-add5 : </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._number~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of Number]</span></a><span class="RktCmt"> -&gt; </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._number~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of Number]</span></a></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Add five (5) to each element of the given list of numbers</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lon-add5</span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._empty~3f%29%29" class="RktValLink" data-pltdoc="x">empty?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cons~3f%29%29" class="RktValLink" data-pltdoc="x">cons?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._first%29%29" class="RktValLink" data-pltdoc="x">first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lon-add5</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._rest%29%29" class="RktValLink" data-pltdoc="x">rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></tbody></table></blockquote><p>Is it clear what each function does? Since these functions are almost identical
you are hopefully asking "Why would you do that?!".</p><blockquote><p><span style="font-weight: bold">Sample Problem </span>Design a function named <span class="RktSym">lon-add-n</span> that abstracts both of the
functions above by taking an extra argument, which is the number to be added to
each element.</p></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">lon-add-n : </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._number~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of Number]</span></a><span class="RktCmt"> Number -&gt; </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._number~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of Number]</span></a></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Add n to each element of the given list</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lon-add-n</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lon-add-n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1/2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1.5</span><span class="hspace">&nbsp;</span><span class="RktVal">4.5</span><span class="hspace">&nbsp;</span><span class="RktVal">6.5</span><span class="hspace">&nbsp;</span><span class="RktVal">2.5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lon-add-n</span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._empty~3f%29%29" class="RktValLink" data-pltdoc="x">empty?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cons~3f%29%29" class="RktValLink" data-pltdoc="x">cons?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._first%29%29" class="RktValLink" data-pltdoc="x">first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lon-add-n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._rest%29%29" class="RktValLink" data-pltdoc="x">rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lon</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></tbody></table></blockquote><blockquote><p><span style="font-weight: bold">Sample Problem </span>Rewrite both <span class="RktSym">lon-add2</span> and <span class="RktSym">lon-add5</span> using your
more general function. Write a few tests for each to be sure they still work as
expected.</p></blockquote><p></p><div class="SIntrapara">Here is another data definition
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A </span><a name="(tech._~5blist._of._string~5d)"></a><span style="font-style: italic">[List-of String]</span><span class="RktCmt"> is one of</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> – empty</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> – (cons String </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._string~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of String]</span></a><span class="RktCmt">)</span></td></tr></tbody></table></blockquote></div><p></p><blockquote><p><span class="exercise">Exercise 1 </span>Design a function named <span class="RktSym">starts-with-cat</span> that consumes a
<a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._string~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of String]</span></a> and constructs a list of all the strings that start with
<span class="RktVal">"cat"</span>. For example,
<span class="RktPn">(</span><span class="RktSym">starts-with-cat</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">"oboe"</span><span class="stt"> </span><span class="RktVal">"cataract"</span><span class="stt"> </span><span class="RktVal">"ox"</span><span class="stt"> </span><span class="RktVal">"catharsis"</span><span class="RktPn">)</span><span class="RktPn">)</span> would
produce <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">"cataract"</span><span class="stt"> </span><span class="RktVal">"catharsis"</span><span class="RktPn">)</span>.</p></blockquote><blockquote><p><span class="exercise">Exercise 2 </span>Design a function named <span class="RktSym">starts-with-dog</span> that consumes a
<a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._string~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of String]</span></a> and constructs a list of all the strings that start with
<span class="RktVal">"dog"</span>.</p></blockquote><blockquote><p><span class="exercise">Exercise 3 </span>Design a function named <span class="RktSym">starts-with</span> that abstracts both of
the functions above, taking an extra argument, which is the substring to be
found in each element.</p><p><span style="font-weight: bold">Note:</span> to avoid "index out of range" errors you might want to ensure the
prefix is shorter than the string you are checking against.</p></blockquote><blockquote><p><span class="exercise">Exercise 4 </span>Rewrite both <span class="RktSym">starts-with-cat</span> and <span class="RktSym">starts-with-dog</span>
using your more general function. Write a few tests for each to be sure they
still work as expected.</p></blockquote><blockquote><p><span class="exercise">Exercise 5 </span>Design a function <span class="RktSym">contains-cat?</span> that consumes a
<a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._string~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of String]</span></a> and determines whether that list contains the string <span class="RktVal">"cat"</span>.</p></blockquote><blockquote><p><span class="exercise">Exercise 6 </span>Design a function <span class="RktSym">contains-dog?</span> that consumes a
<a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._~5blist._of._string~5d%29" class="techoutside" data-pltdoc="x"><span class="techinside">[List-of String]</span></a> and determines whether that list contains the string <span class="RktVal">"dog"</span>.</p></blockquote><blockquote><p><span class="exercise">Exercise 7 </span>Design a function <span class="RktSym">contains?</span> that abstracts both of the
functions above, taking an extra argument, which is the string to check for in
the list.</p></blockquote><blockquote><p><span class="exercise">Exercise 8 </span>Rewrite both <span class="RktSym">contains-cat?</span> and <span class="RktSym">contains-dog?</span> using
your more general function. Write a few tests for each to be sure they still
work as expected.</p></blockquote><h3><a name="(part._g6974)"></a>Abstracting Code into Data</h3><p>In this series of problems, we’re going to reconsider the Finite State Machine
problem from <a href="https://course.ccs.neu.edu/cs2500f17/ps4a.html" data-pltdoc="x">Assignment 4a</a>.  We’re building up to
<a href="http://www.ccs.neu.edu/home/matthias/HtDP2e/part_two.html#(counter._(exercise._ex~3afsm-list))">HtDP Exercise 230</a>,
but using the particular state machine from the homework.</p><p>The code for implementing a finite state machine on the homework was
frustratingly repetitive: the nested conditionals and the duplicated checks for
string equality all meant that if you needed to change the state machine, you’d
need to rewrite the function from scratch.  Surely we can do better!</p><p>Consider again the description of a FSM: (1) it’s a bunch of states, together with
(2) a collection of rules describing the transitions between states.  When a key is
pressed, we needed to (3) look up the relevant state, (4) look up the relevant
transition for that state, and then (5) switch states accordingly.  We have
datatypes now that let us describe a "bunch" of things – lists.  So let’s
start with the following data definitions:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A </span><a name="(tech._statename)"></a><span style="font-style: italic">StateName</span><span class="RktCmt"> is one of</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- "START"</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- "G"</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- "O1"</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- "O2"</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- "D"</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define-struct%29%29" class="RktStxLink" data-pltdoc="x">define-struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">transition</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">key</span><span class="hspace">&nbsp;</span><span class="RktSym">next-state</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A </span><a name="(tech._transition)"></a><span style="font-style: italic">Transition</span><span class="RktCmt"> is a structure:</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">(make-transition KeyEvent </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._statename%29" class="techoutside" data-pltdoc="x"><span class="techinside">StateName</span></a><span class="RktCmt">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span style="font-weight: bold">INTERPRETATION:</span><span class="RktCmt"> If the given key is pressed, switch to the given named state.</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define-struct%29%29" class="RktStxLink" data-pltdoc="x">define-struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fsm-state</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._name%29%29" class="RktStxLink" data-pltdoc="x">name</a></span><span class="hspace">&nbsp;</span><span class="RktSym">rules</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A </span><a name="(tech._fsmstate)"></a><span style="font-style: italic">FSMState</span><span class="RktCmt"> is a structure:</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">(make-fsm-state </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._statename%29" class="techoutside" data-pltdoc="x"><span class="techinside">StateName</span></a><span class="RktCmt"> [List-of </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._transition%29" class="techoutside" data-pltdoc="x"><span class="techinside">Transition</span></a><span class="RktCmt">])</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span style="font-weight: bold">INTERPRETATION:</span><span class="RktCmt"> A single state of a finite-state machine,</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">with a name and a list of applicable rules.</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A </span><a name="(tech._fsm)"></a><span style="font-style: italic">FSM</span><span class="RktCmt"> is a [List-of </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._fsmstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">FSMState</span></a><span class="RktCmt">]</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span style="font-weight: bold">INTERPRETATION:</span><span class="RktCmt"> A complete finite state machine, that</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">switches states in reaction to keystrokes</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define-struct%29%29" class="RktStxLink" data-pltdoc="x">define-struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">cur-state</span><span class="hspace">&nbsp;</span><span class="RktSym">fsm</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A World is a structure</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">(make-world </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._statename%29" class="techoutside" data-pltdoc="x"><span class="techinside">StateName</span></a><span class="RktCmt"> </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._fsm%29" class="techoutside" data-pltdoc="x"><span class="techinside">FSM</span></a><span class="RktCmt">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span style="font-weight: bold">INTERPRETATION:</span><span class="RktCmt"> The full information needed for our world program:</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">the rules for the finite state machine, and the current state of the machine</span></td></tr></tbody></table></blockquote><blockquote><p></p><div class="SIntrapara"><span class="exercise">Exercise 9 </span>These data definitions give us (1) and (2) above.  Represent the FSM
from <a href="https://course.ccs.neu.edu/cs2500f17/ps4a.html" data-pltdoc="x">Assignment 4a</a> using this data.  Hint:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">START-state</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-fsm-state</span><span class="hspace">&nbsp;</span><span class="RktVal">"START"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-transition</span><span class="hspace">&nbsp;</span><span class="RktVal">"g"</span><span class="hspace">&nbsp;</span><span class="RktVal">"G"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">FSM</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">START-state</span><span class="hspace">&nbsp;</span><span class="RktSym">G-state</span><span class="hspace">&nbsp;</span><span class="RktSym">O1-state</span><span class="hspace">&nbsp;</span><span class="RktSym">O2-state</span><span class="hspace">&nbsp;</span><span class="RktSym">D-state</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></tbody></table></blockquote></div><div class="SIntrapara">Explain in English how your data represents the same information as your code
did for the homework.</div><p></p></blockquote><blockquote><p><span class="exercise">Exercise 10 </span>Design a function <span class="RktSym">state=?</span>, that returns a boolean indicating
if two given state names are equal.</p></blockquote><blockquote><p></p><div class="SIntrapara"><span class="exercise">Exercise 11 </span>Design the following function, which is step (3) above:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">find-transitions-for : </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._fsm%29" class="techoutside" data-pltdoc="x"><span class="techinside">FSM</span></a><span class="RktCmt"> </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._statename%29" class="techoutside" data-pltdoc="x"><span class="techinside">StateName</span></a><span class="RktCmt"> -&gt; [List-of </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._transition%29" class="techoutside" data-pltdoc="x"><span class="techinside">Transition</span></a><span class="RktCmt">]</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">find-transitions-for</span><span class="hspace">&nbsp;</span><span class="RktSym">fsm</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._state%29%29" class="RktStxLink" data-pltdoc="x">state</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr></tbody></table></blockquote></div><div class="SIntrapara">This function looks for the given named state in the given FSM, and returns the
[List-of <a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._transition%29" class="techoutside" data-pltdoc="x"><span class="techinside">Transition</span></a>] associated with that state.  If the state
is not found, then <span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28def._htdp-beginner-abbr._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span>.  (This function handles the outer
<span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> from your homework’s code.)</div><p></p></blockquote><blockquote><p></p><div class="SIntrapara"><span class="exercise">Exercise 12 </span>Design the following function, which is step (4) above:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">find-transition : [List-of </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._transition%29" class="techoutside" data-pltdoc="x"><span class="techinside">Transition</span></a><span class="RktCmt">] KeyEvent </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._statename%29" class="techoutside" data-pltdoc="x"><span class="techinside">StateName</span></a><span class="RktCmt"> -&gt; </span><a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._statename%29" class="techoutside" data-pltdoc="x"><span class="techinside">StateName</span></a></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">find-transition</span><span class="hspace">&nbsp;</span><span class="RktSym">transitions</span><span class="hspace">&nbsp;</span><span class="RktSym">key</span><span class="hspace">&nbsp;</span><span class="RktSym">default</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr></tbody></table></blockquote></div><div class="SIntrapara">This function looks for the given key-event in the given transition list.  If
it finds the key, it returns the associated state name. If the key is not
found, then return the given default state name.  (This handles the "all other
keys" cases in the inner <span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>s in your code from your homework.)</div><p></p></blockquote><blockquote><p></p><div class="SIntrapara"><span class="exercise">Exercise 13 </span>Design the key-handler function
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">handle-key : </span><a href="https://course.ccs.neu.edu/cs2500f17/ps7a.html#%28tech._world%29" class="techoutside" data-pltdoc="x"><span class="techinside">World</span></a><span class="RktCmt"> KeyEvent -&gt; </span><a href="https://course.ccs.neu.edu/cs2500f17/ps7a.html#%28tech._world%29" class="techoutside" data-pltdoc="x"><span class="techinside">World</span></a></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">handle-key</span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="hspace">&nbsp;</span><span class="RktSym">key</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr></tbody></table></blockquote></div><div class="SIntrapara">This function should tear apart the <a href="https://course.ccs.neu.edu/cs2500f17/ps7a.html#%28tech._world%29" class="techoutside" data-pltdoc="x"><span class="techinside">World</span></a> into its component
<a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._statename%29" class="techoutside" data-pltdoc="x"><span class="techinside">StateName</span></a> and <a href="https://course.ccs.neu.edu/cs2500f17/lab5.html#%28tech._fsm%29" class="techoutside" data-pltdoc="x"><span class="techinside">FSM</span></a>. It should then use <span class="RktSym">find-transitions-for</span>
to find the current state’s transitions, use <span class="RktSym">find-transition</span> with the
given KeyEvent to find the new state, and then build up a new
<a href="https://course.ccs.neu.edu/cs2500f17/ps7a.html#%28tech._world%29" class="techoutside" data-pltdoc="x"><span class="techinside">World</span></a> with the results.</div><p></p><p>Combine this function with your drawing functions from the homework (which
you’ll need to tweak slightly, to take a <a href="https://course.ccs.neu.edu/cs2500f17/ps7a.html#%28tech._world%29" class="techoutside" data-pltdoc="x"><span class="techinside">World</span></a> instead of a
<span class="RktSym">String</span>) to complete the new FSM simulation.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tbody><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner-abbr.html#%28form._%28%28lib._lang%2Fhtdp-beginner-abbr..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">run-fsm</span><span class="hspace">&nbsp;</span><span class="RktSym">initial-state</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-world</span><span class="hspace">&nbsp;</span><span class="RktSym">initial-state</span><span class="hspace">&nbsp;</span><span class="RktSym">FSM</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29" class="RktStxLink" data-pltdoc="x">to-draw</a></span><span class="hspace">&nbsp;</span><span class="RktSym">your-new-drawing-function</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29" class="RktStxLink" data-pltdoc="x">on-key</a></span><span class="hspace">&nbsp;</span><span class="RktSym">handle-key</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></tbody></table></blockquote></blockquote><h3><a name="(part._g6975)"></a>Before You Go...</h3><p>If you had trouble finishing any of the exercises in the lab or homework, or just feel like you’re
 struggling with any of the class material, please feel free to come to office hours and talk to a TA
 or tutor for additional assistance.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="https://course.ccs.neu.edu/cs2500f17/lab4.html" title="backward to &quot;Lab  4 Recursion, With A Twist&quot;" data-pltdoc="x">← prev</a>&nbsp;&nbsp;<a href="https://course.ccs.neu.edu/cs2500f17/labs.html" title="up to &quot;Labs&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="https://course.ccs.neu.edu/cs2500f17/lab6.html" title="forward to &quot;Lab  6 Creating Abstractions&quot;" data-pltdoc="x">next →</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>